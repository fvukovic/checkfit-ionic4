{"version":3,"sources":["./src/app/pages/active-rides/active-rides.component.html","./src/app/pages/active-rides/active-rides-routing.module.ts","./src/app/pages/active-rides/active-rides.component.scss","./src/app/pages/active-rides/active-rides.component.ts","./src/app/pages/active-rides/active-rides.module.ts"],"names":[],"mappings":"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","file":"9-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <div class=\\\"header-box\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title>Aktivne vožnje</ion-title>\\n      <img src=\\\"../../../assets/img/taxiLogo.png\\\">\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div *ngFor=\\\"let item of invoiceList\\\" class=\\\"my-rides\\\">\\n    <div class=\\\"details-ride\\\">\\n      <span class=\\\"text\\\">Polazište:</span>\\n      <span class=\\\"value\\\">{{item.fromAddress}}</span>\\n    </div>\\n\\n    <div class=\\\"details-ride\\\">\\n      <span class=\\\"text\\\">Odredište:</span>\\n      <span class=\\\"value\\\">{{item.toAddress}} </span>\\n    </div>\\n\\n    <div class=\\\"details-ride\\\">\\n      <span class=\\\"text\\\">Udaljenost:</span>\\n      <span class=\\\"value\\\">{{item.km}} km </span>\\n    </div>\\n\\n    <div class=\\\"details-ride\\\">\\n      <span class=\\\"text\\\">Osoba:</span>\\n      <span class=\\\"value\\\">{{item.persons}} </span>\\n    </div>\\n    <button class=\\\"order-ride\\\" (click)=\\\"navigateToDrive(item)\\\">Pregled</button>\\n  </div>\\n</ion-content> \"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ActiveRidesComponent } from './active-rides.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ActiveRidesComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ActiveRidesRoutingModule {}\n","export default \".my-rides {\\n  margin: 20px;\\n  border-bottom: 2px solid #000;\\n  padding: 15px 0 5px 0;\\n}\\n.my-rides .details-ride {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  margin-bottom: 10px;\\n}\\n.my-rides .details-ride .text {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  font-size: 12px;\\n}\\n.my-rides .details-ride .value {\\n  text-align: right;\\n  font-size: 12px;\\n}\\n.header-box {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  padding: 10px;\\n}\\nimg {\\n  max-width: 50px;\\n}\\nion-title {\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  --color: #000;\\n  text-transform: uppercase;\\n  font-size: 20px;\\n}\\nion-menu-button {\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  --color: #000;\\n  --background: #f4f0ec;\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n}\\n.order-ride {\\n  width: 100%;\\n  background: #393939;\\n  color: white;\\n  text-align: center;\\n  padding: 12px;\\n  text-transform: uppercase;\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9maWxpcC52dWtvdmljL0RldmVsb3BtZW50L2NoZWNrZml0LW1vYmlsZS9tb2JpbGVfYXBwL3NyYy9hcHAvcGFnZXMvYWN0aXZlLXJpZGVzL2FjdGl2ZS1yaWRlcy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvcGFnZXMvYWN0aXZlLXJpZGVzL2FjdGl2ZS1yaWRlcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7RUFDQSw2QkFBQTtFQUNBLHFCQUFBO0FDQ0o7QURFSTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFDQSx5QkFBQTtVQUFBLDhCQUFBO0VBQ0EsbUJBQUE7QUNBUjtBREdRO0VBQ0ksaUJBQUE7RUFDQSx5QkFBQTtFQUNBLGVBQUE7QUNEWjtBREdRO0VBQ0ksaUJBQUE7RUFDQSxlQUFBO0FDRFo7QURLQTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFDQSxhQUFBO0FDRko7QURJQTtFQUNJLGVBQUE7QUNESjtBREdBO0VBQ0ksNkNBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxlQUFBO0FDQUo7QURFQTtFQUNJLDZDQUFBO0VBQ0EsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ0NKO0FERUE7RUFDSSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxnQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWN0aXZlLXJpZGVzL2FjdGl2ZS1yaWRlcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5teS1yaWRlcyB7XG4gICAgbWFyZ2luOiAyMHB4O1xuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjMDAwO1xuICAgIHBhZGRpbmc6IDE1cHggMCA1cHggMDtcbiAgICBcblxuICAgIC5kZXRhaWxzLXJpZGUge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICAgIFxuXG4gICAgICAgIC50ZXh0IHtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgfVxuICAgICAgICAudmFsdWUge1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIH1cbiAgICB9XG59XG4uaGVhZGVyLWJveCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBhZGRpbmc6IDEwcHg7XG59XG5pbWcge1xuICAgIG1heC13aWR0aDogNTBweDtcbn1cbmlvbi10aXRsZSB7XG4gICAgdGV4dC1zaGFkb3c6IDBlbSAwZW0gMC4zZW0gcmdiYSgwLDAsMCwwLjQpO1xuICAgIC0tY29sb3I6ICMwMDA7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBmb250LXNpemU6IDIwcHg7XG59XG5pb24tbWVudS1idXR0b24ge1xuICAgIHRleHQtc2hhZG93OiAwZW0gMGVtIDAuM2VtIHJnYmEoMCwwLDAsMC40KTtcbiAgICAtLWNvbG9yOiAjMDAwO1xuICAgIC0tYmFja2dyb3VuZDogI2Y0ZjBlYztcbiAgICB3aWR0aDogNTBweDtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuXG4ub3JkZXItcmlkZSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogIzM5MzkzOTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBhZGRpbmc6IDEycHg7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xufSIsIi5teS1yaWRlcyB7XG4gIG1hcmdpbjogMjBweDtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICMwMDA7XG4gIHBhZGRpbmc6IDE1cHggMCA1cHggMDtcbn1cbi5teS1yaWRlcyAuZGV0YWlscy1yaWRlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuLm15LXJpZGVzIC5kZXRhaWxzLXJpZGUgLnRleHQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC1zaXplOiAxMnB4O1xufVxuLm15LXJpZGVzIC5kZXRhaWxzLXJpZGUgLnZhbHVlIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuLmhlYWRlci1ib3gge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG5pbWcge1xuICBtYXgtd2lkdGg6IDUwcHg7XG59XG5cbmlvbi10aXRsZSB7XG4gIHRleHQtc2hhZG93OiAwZW0gMGVtIDAuM2VtIHJnYmEoMCwgMCwgMCwgMC40KTtcbiAgLS1jb2xvcjogIzAwMDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuXG5pb24tbWVudS1idXR0b24ge1xuICB0ZXh0LXNoYWRvdzogMGVtIDBlbSAwLjNlbSByZ2JhKDAsIDAsIDAsIDAuNCk7XG4gIC0tY29sb3I6ICMwMDA7XG4gIC0tYmFja2dyb3VuZDogI2Y0ZjBlYztcbiAgd2lkdGg6IDUwcHg7XG4gIGhlaWdodDogNTBweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuXG4ub3JkZXItcmlkZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiAjMzkzOTM5O1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogMTJweDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn0iXX0= */\"","import { Events } from \"@ionic/angular\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { Storage } from \"@ionic/storage\";\nimport { SocketService } from \"../../services/socket.service\";\nimport { LocationService } from \"../../services/location.service\";\nimport { Observable } from \"rxjs\";\nimport { catchError } from \"rxjs/operators\";\n\n@Component({\n  selector: \"app-active-rides\",\n  templateUrl: \"./active-rides.component.html\",\n  styleUrls: [\"./active-rides.component.scss\"]\n})\nexport class ActiveRidesComponent implements OnInit {\n  invoiceList: any[] = [];\n\n  constructor(\n    private router: Router,\n    private http: HttpClient,\n    private storage: Storage,\n    private locationService: LocationService,\n    private socketService: SocketService,\n    public events: Events\n  ) {\n    events.subscribe(\"activeDrives\", message => { \n      Object.entries(message['drives']).forEach(([key, value]) => {   \n        this.locationService\n          .getReverseGeocode(value[\"fromLat\"], value[\"fromLong\"])\n          .then(from => {\n            this.locationService\n              .getReverseGeocode(value[\"toLat\"], value[\"toLong\"])\n              .then(to => {\n                this.invoiceList.push({\n                  fromLat:value[\"fromLat\"],\n                  fromLong:value[\"fromLong\"],\n                  toLat:value[\"toLat\"],\n                  toLong:value[\"toLong\"],\n                  fromAddress:\n                    from[0].thoroughfare +\n                    \",\" +\n                    from[0].subThoroughfare +\n                    \",\" +\n                    from[0].locality,\n                  toAddress:\n                    to[0].thoroughfare +\n                    \",\" +\n                    to[0].subThoroughfare +\n                    \",\" +\n                    to[0].locality,\n                  persons: value[\"persons\"],\n                  km: value[\"km\"],\n                  phoneNumber: value[\"phoneNumber\"],\n                  customer:value['customer']\n                }); \n              });\n          });\n      }); \n    });\n    this.storage.get(\"username\").then(val => {\n      if (val != null) {\n        this.socketService.send(\"/server-receiver\", {\n          type: \"driver\",\n          driver: val,\n          messageType: \"ACTIVE_DRIVES\",\n          toLat: \"46\",\n          toLong: \"16\"\n        });\n      }\n    });\n  }\n\n  navigateToDrive(drive): void {\n    this.router.navigate([\"/driver-homepage\"], {\n      queryParams: { data: JSON.stringify(drive), driveIsStarted: true }\n    });\n  }\n\n  ngOnInit() {}\n}\n","import { ActiveRidesRoutingModule } from './active-rides-routing.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ActiveRidesComponent } from './active-rides.component';\n \n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ActiveRidesRoutingModule\n  ],\n  declarations: [ActiveRidesComponent]\n})\nexport class ActiveRidesModule {}\n"],"sourceRoot":"webpack:///"}