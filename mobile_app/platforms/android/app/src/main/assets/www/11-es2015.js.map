<<<<<<< HEAD
{"version":3,"sources":["./src/app/pages/driver-homepage/driver-homepage.page.html","./src/app/pages/driver-homepage/driver-homepage-routing.module.ts","./src/app/pages/driver-homepage/driver-homepage.module.ts","./src/app/pages/driver-homepage/driver-homepage.page.scss","./src/app/pages/driver-homepage/driver-homepage.page.ts"],"names":[],"mappings":"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","file":"11-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <div class=\\\"header-box\\\">\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n        <ion-menu-button></ion-menu-button>\\r\\n      </ion-buttons>\\r\\n      <ion-title>Mura Taxi</ion-title>\\r\\n      <button class=\\\"sos\\\" *ngIf=\\\"isUserLoggedIn\\\" (click)=\\\"callSOS()\\\">SOS</button>\\r\\n  </div>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content class=\\\"mapp\\\">\\r\\n  <style>\\r\\n    .map {\\r\\n      height: 47% !important;\\r\\n    }\\r\\n  </style>\\r\\n  \\r\\n    <div #mapElement class=\\\"map\\\"></div> \\r\\n    <div class=\\\"buttons\\\">\\r\\n      <ion-button class=\\\"call-customer\\\" *ngIf=\\\"isDriveStarted\\\" href=\\\"tel:{{phoneNumber}}\\\">Nazovi</ion-button>\\r\\n      <ion-button class=\\\"finish-drive\\\" *ngIf=\\\"isDriveStarted\\\" (click)=\\\"driverIsOnSpot()\\\" >Na adresi</ion-button>\\r\\n      <ion-button class=\\\"end-drive\\\" *ngIf=\\\"isDriveStarted\\\" (click)=\\\"endDrive()\\\">Završi</ion-button>  \\r\\n    </div>\\r\\n      <div class=\\\"drive-request\\\" *ngIf=\\\"isDriveStarted\\\">\\r\\n\\r\\n        <div class=\\\"location-from\\\">\\r\\n          <span class=\\\"text\\\">Polazište:</span>\\r\\n          <span class=\\\"value\\\">{{fromAddress}}</span> \\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"location-from\\\">\\r\\n          <span class=\\\"text\\\">Odredište:</span>\\r\\n          <span class=\\\"value\\\">{{toAddress}}</span>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DriverHomepagePage } from './driver-homepage.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DriverHomepagePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DriverHomepagePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DriverHomepagePageRoutingModule } from './driver-homepage-routing.module';\r\n\r\nimport { DriverHomepagePage } from './driver-homepage.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    DriverHomepagePageRoutingModule\r\n  ],\r\n  declarations: [DriverHomepagePage]\r\n})\r\nexport class DriverHomepagePageModule {}\r\n","export default \".map {\\n  margin: 20px;\\n}\\n\\n.buttons {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  border-bottom: 1px solid #000;\\n  padding-bottom: 15px;\\n  margin: 20px;\\n}\\n\\n.buttons .call-customer {\\n  --background: #46e169;\\n  color: #393939;\\n  font-size: 13px;\\n  width: 100px;\\n}\\n\\n.buttons .finish-drive {\\n  --background: #393939;\\n  color: #46e169;\\n  font-size: 13px;\\n  width: 100px;\\n}\\n\\n.buttons .end-drive {\\n  --background: #9c9cac;\\n  color: #fff;\\n  font-size: 13px;\\n  width: 100px;\\n}\\n\\n.drive-request {\\n  padding: 0 20px;\\n}\\n\\n.drive-request .location-from {\\n  padding-bottom: 15px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n}\\n\\n.drive-request .location-from .text {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  margin-bottom: 10px;\\n  font-size: 13px;\\n}\\n\\n.drive-request .location-from .value {\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  border: 1px solid #000;\\n  box-shadow: 6px 6px 18px 0px rgba(0, 0, 0, 0.3);\\n  height: 40px;\\n  padding: 10px;\\n  font-size: 13px;\\n}\\n\\n.header-box {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  padding: 10px;\\n}\\n\\n.header-box ion-title {\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  --color: #000;\\n  text-transform: uppercase;\\n}\\n\\n.header-box ion-menu-button {\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  --color: #000;\\n  --background: #f4f0ec;\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n}\\n\\n.header-box .sos {\\n  background: #DC143C;\\n  float: right;\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n  padding: 0;\\n  margin: 0 20px 0 0;\\n  color: white;\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZHJpdmVyLWhvbWVwYWdlL0M6XFxtdXJhQXBwXFxjaGVja2ZpdC1pb25pYzRcXG1vYmlsZV9hcHAvc3JjXFxhcHBcXHBhZ2VzXFxkcml2ZXItaG9tZXBhZ2VcXGRyaXZlci1ob21lcGFnZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2RyaXZlci1ob21lcGFnZS9kcml2ZXItaG9tZXBhZ2UucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQ0NKOztBRENBO0VBQ0ksb0JBQUE7RUFBQSxhQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLDZCQUFBO0VBQ0Esb0JBQUE7RUFDQSxZQUFBO0FDRUo7O0FEQUk7RUFDSSxxQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtBQ0VSOztBREFJO0VBQ0kscUJBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7QUNFUjs7QURBSTtFQUNJLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0FDRVI7O0FERUE7RUFDSSxlQUFBO0FDQ0o7O0FEQ0k7RUFDSSxvQkFBQTtFQUNBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDRCQUFBO0VBQUEsNkJBQUE7VUFBQSxzQkFBQTtBQ0NSOztBRENRO0VBQ0ksaUJBQUE7RUFDQSx5QkFBQTtFQUNBLDZDQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FDQ1o7O0FEQ1E7RUFDSSw2Q0FBQTtFQUNBLHNCQUFBO0VBQ0EsK0NBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7QUNDWjs7QURJQTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFDQSxhQUFBO0FDREo7O0FER0k7RUFDSSw2Q0FBQTtFQUNBLGFBQUE7RUFDQSx5QkFBQTtBQ0RSOztBREdJO0VBQ0ksNkNBQUE7RUFDQSxhQUFBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FDRFI7O0FER0k7RUFDSSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FDRFIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9kcml2ZXItaG9tZXBhZ2UvZHJpdmVyLWhvbWVwYWdlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXAge1xyXG4gICAgbWFyZ2luOiAyMHB4O1xyXG59XHJcbi5idXR0b25zIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDA7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMTVweDtcclxuICAgIG1hcmdpbjogMjBweDtcclxuXHJcbiAgICAuY2FsbC1jdXN0b21lciB7XHJcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiAjNDZlMTY5O1xyXG4gICAgICAgIGNvbG9yOiAjMzkzOTM5O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgICAgICB3aWR0aDogMTAwcHg7XHJcbiAgICB9XHJcbiAgICAuZmluaXNoLWRyaXZlIHtcclxuICAgICAgICAtLWJhY2tncm91bmQ6ICMzOTM5Mzk7XHJcbiAgICAgICAgY29sb3I6ICM0NmUxNjk7XHJcbiAgICAgICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgICAgIHdpZHRoOiAxMDBweDtcclxuICAgIH1cclxuICAgIC5lbmQtZHJpdmUge1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogIzljOWNhYztcclxuICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICAgICAgd2lkdGg6IDEwMHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4uZHJpdmUtcmVxdWVzdCB7XHJcbiAgICBwYWRkaW5nOiAwIDIwcHg7XHJcbiAgICBcclxuICAgIC5sb2NhdGlvbi1mcm9tIHtcclxuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTVweDtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAgIC50ZXh0IHtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwZW0gMGVtIDAuM2VtIHJnYmEoMCwwLDAsMC40KTtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgICAgIH1cclxuICAgICAgICAudmFsdWUge1xyXG4gICAgICAgICAgICB0ZXh0LXNoYWRvdzogMGVtIDBlbSAwLjNlbSByZ2JhKDAsMCwwLDAuNCk7XHJcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDZweCA2cHggMThweCAwcHggcmdiYSgwLDAsMCwwLjMpO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi5oZWFkZXItYm94IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuXHJcbiAgICBpb24tdGl0bGUge1xyXG4gICAgICAgIHRleHQtc2hhZG93OiAwZW0gMGVtIDAuM2VtIHJnYmEoMCwwLDAsMC40KTtcclxuICAgICAgICAtLWNvbG9yOiAjMDAwO1xyXG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICB9XHJcbiAgICBpb24tbWVudS1idXR0b24ge1xyXG4gICAgICAgIHRleHQtc2hhZG93OiAwZW0gMGVtIDAuM2VtIHJnYmEoMCwwLDAsMC40KTtcclxuICAgICAgICAtLWNvbG9yOiAjMDAwO1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogI2Y0ZjBlYztcclxuICAgICAgICB3aWR0aDogNTBweDtcclxuICAgICAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgfVxyXG4gICAgLnNvcyB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogI0RDMTQzQztcclxuICAgICAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICAgICAgd2lkdGg6IDUwcHg7XHJcbiAgICAgICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgIG1hcmdpbjogMCAyMHB4IDAgMDtcclxuICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICB9XHJcbn1cclxuIiwiLm1hcCB7XG4gIG1hcmdpbjogMjBweDtcbn1cblxuLmJ1dHRvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMDtcbiAgcGFkZGluZy1ib3R0b206IDE1cHg7XG4gIG1hcmdpbjogMjBweDtcbn1cbi5idXR0b25zIC5jYWxsLWN1c3RvbWVyIHtcbiAgLS1iYWNrZ3JvdW5kOiAjNDZlMTY5O1xuICBjb2xvcjogIzM5MzkzOTtcbiAgZm9udC1zaXplOiAxM3B4O1xuICB3aWR0aDogMTAwcHg7XG59XG4uYnV0dG9ucyAuZmluaXNoLWRyaXZlIHtcbiAgLS1iYWNrZ3JvdW5kOiAjMzkzOTM5O1xuICBjb2xvcjogIzQ2ZTE2OTtcbiAgZm9udC1zaXplOiAxM3B4O1xuICB3aWR0aDogMTAwcHg7XG59XG4uYnV0dG9ucyAuZW5kLWRyaXZlIHtcbiAgLS1iYWNrZ3JvdW5kOiAjOWM5Y2FjO1xuICBjb2xvcjogI2ZmZjtcbiAgZm9udC1zaXplOiAxM3B4O1xuICB3aWR0aDogMTAwcHg7XG59XG5cbi5kcml2ZS1yZXF1ZXN0IHtcbiAgcGFkZGluZzogMCAyMHB4O1xufVxuLmRyaXZlLXJlcXVlc3QgLmxvY2F0aW9uLWZyb20ge1xuICBwYWRkaW5nLWJvdHRvbTogMTVweDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbi5kcml2ZS1yZXF1ZXN0IC5sb2NhdGlvbi1mcm9tIC50ZXh0IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIHRleHQtc2hhZG93OiAwZW0gMGVtIDAuM2VtIHJnYmEoMCwgMCwgMCwgMC40KTtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgZm9udC1zaXplOiAxM3B4O1xufVxuLmRyaXZlLXJlcXVlc3QgLmxvY2F0aW9uLWZyb20gLnZhbHVlIHtcbiAgdGV4dC1zaGFkb3c6IDBlbSAwZW0gMC4zZW0gcmdiYSgwLCAwLCAwLCAwLjQpO1xuICBib3JkZXI6IDFweCBzb2xpZCAjMDAwO1xuICBib3gtc2hhZG93OiA2cHggNnB4IDE4cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgaGVpZ2h0OiA0MHB4O1xuICBwYWRkaW5nOiAxMHB4O1xuICBmb250LXNpemU6IDEzcHg7XG59XG5cbi5oZWFkZXItYm94IHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogMTBweDtcbn1cbi5oZWFkZXItYm94IGlvbi10aXRsZSB7XG4gIHRleHQtc2hhZG93OiAwZW0gMGVtIDAuM2VtIHJnYmEoMCwgMCwgMCwgMC40KTtcbiAgLS1jb2xvcjogIzAwMDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cbi5oZWFkZXItYm94IGlvbi1tZW51LWJ1dHRvbiB7XG4gIHRleHQtc2hhZG93OiAwZW0gMGVtIDAuM2VtIHJnYmEoMCwgMCwgMCwgMC40KTtcbiAgLS1jb2xvcjogIzAwMDtcbiAgLS1iYWNrZ3JvdW5kOiAjZjRmMGVjO1xuICB3aWR0aDogNTBweDtcbiAgaGVpZ2h0OiA1MHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG4uaGVhZGVyLWJveCAuc29zIHtcbiAgYmFja2dyb3VuZDogI0RDMTQzQztcbiAgZmxvYXQ6IHJpZ2h0O1xuICB3aWR0aDogNTBweDtcbiAgaGVpZ2h0OiA1MHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHBhZGRpbmc6IDA7XG4gIG1hcmdpbjogMCAyMHB4IDAgMDtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXdlaWdodDogYm9sZDtcbn0iXX0= */\"","import {\r\n  Component,\r\n  OnInit,\r\n  AfterContentInit,\r\n  ViewChild,\r\n  ElementRef\r\n} from \"@angular/core\";\r\nimport { ModalController } from \"@ionic/angular\";\r\nimport { StreetPickerPage } from \"../popups/street-picker/street-picker.page\";\r\nimport { Router } from \"@angular/router\";\r\nimport { LocationService } from \"../../services/location.service\";\r\nimport { NativeGeocoderResult } from \"@ionic-native/native-geocoder/ngx\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { SocketService } from \"../../services/socket.service\";\r\nimport { Storage } from \"@ionic/storage\";\r\n\r\ndeclare var google;\r\n@Component({\r\n  selector: \"app-driver-homepage\",\r\n  templateUrl: \"./driver-homepage.page.html\",\r\n  styleUrls: [\"./driver-homepage.page.scss\"]\r\n})\r\nexport class DriverHomepagePage implements OnInit {\r\n  map;\r\n  toAddress: String;\r\n  currentLocation: any;\r\n  fromAddress: String;\r\n  toddress: String;\r\n  isDriveStarted: boolean;\r\n  message: any;\r\n  phoneNumber: String;\r\n  isUserLoggedIn: boolean = false;\r\n\r\n  @ViewChild(\"mapElement\", { static: true }) mapElement: ElementRef;\r\n  directionsService = new google.maps.DirectionsService();\r\n  directionsDisplay = new google.maps.DirectionsRenderer();\r\n\r\n  constructor(\r\n    private locationService: LocationService,\r\n    private route: ActivatedRoute,\r\n    private socketService: SocketService,\r\n    private storage: Storage\r\n  ) {\r\n    this.storage.get(\"username\").then(val => {\r\n      if (val != null) {\r\n        this.isUserLoggedIn = true;\r\n      }\r\n    });\r\n    this.initializeMap();\r\n\r\n    const firstParam: string = this.route.snapshot.queryParamMap.get(\"data\");\r\n    if (firstParam != null) {\r\n      let message = JSON.parse(firstParam); \r\n      this.message = message;\r\n      this.phoneNumber = message.phoneNumber;\r\n      const driveIsStarted: string = this.route.snapshot.queryParamMap.get(\r\n        \"driveIsStarted\"\r\n      );\r\n\r\n      if (driveIsStarted == \"true\") {\r\n        //TODO makni ovo na kraju\r\n        this.isDriveStarted = true;\r\n      }\r\n\r\n      this.directionsDisplay.setMap(this.map);\r\n      //this.calculateAndDisplayRoute()\r\n      this.populateAddress(this.message);\r\n    }\r\n  }\r\n  ngAfterContentInit() {}\r\n\r\n  calculateAndDisplayRoute() {\r\n    const that = this;\r\n    this.directionsService.route(\r\n      {\r\n        origin: this.fromAddress,\r\n        destination: this.toAddress,\r\n        travelMode: \"DRIVING\"\r\n      },\r\n      (response, status) => {\r\n        if (status === \"OK\") {\r\n          that.directionsDisplay.setDirections(response);\r\n        } else {\r\n          window.alert(\"Directions request failed due to \" + status);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  async populateAddress(message) {\r\n    // alert(JSON.stringify(message))\r\n    var fromAddress = await this.locationService.getReverseGeocode(\r\n      message.fromLat,\r\n      message.fromLong\r\n    );\r\n    this.fromAddress =\r\n      fromAddress[0].thoroughfare +\r\n      \",\" +\r\n      fromAddress[0].subThoroughfare +\r\n      \",\" +\r\n      fromAddress[0].locality;\r\n\r\n    var toAddress = await this.locationService.getReverseGeocode(\r\n      message.toLat,\r\n      message.toLong\r\n    );\r\n    this.toAddress =\r\n      toAddress[0].thoroughfare +\r\n      \",\" +\r\n      toAddress[0].subThoroughfare +\r\n      \",\" +\r\n      toAddress[0].locality;\r\n    this.calculateAndDisplayRoute();\r\n  }\r\n\r\n  async initializeMap() {\r\n    this.currentLocation = await this.locationService.getUserPosition();\r\n    var directionsDisplay = new google.maps.DirectionsRenderer();\r\n    this.map = new google.maps.Map(this.mapElement.nativeElement, {\r\n      center: {\r\n        lat: this.currentLocation.coords.latitude,\r\n        lng: this.currentLocation.coords.longitude\r\n      },\r\n      zoom: 16,\r\n      styles:[\r\n        {\r\n          \"elementType\": \"geometry\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#242f3e\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"elementType\": \"labels.text.fill\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#746855\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"elementType\": \"labels.text.stroke\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#242f3e\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"administrative.locality\",\r\n          \"elementType\": \"labels.text.fill\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#d59563\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"poi\",\r\n          \"elementType\": \"labels.text.fill\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#d59563\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"poi.park\",\r\n          \"elementType\": \"geometry\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#263c3f\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"poi.park\",\r\n          \"elementType\": \"labels.text.fill\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#6b9a76\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"road\",\r\n          \"elementType\": \"geometry\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#38414e\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"road\",\r\n          \"elementType\": \"geometry.stroke\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#212a37\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"road\",\r\n          \"elementType\": \"labels.text.fill\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#9ca5b3\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"road.highway\",\r\n          \"elementType\": \"geometry\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#746855\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"road.highway\",\r\n          \"elementType\": \"geometry.stroke\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#1f2835\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"road.highway\",\r\n          \"elementType\": \"labels.text.fill\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#f3d19c\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"transit\",\r\n          \"elementType\": \"geometry\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#2f3948\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"transit.station\",\r\n          \"elementType\": \"labels.text.fill\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#d59563\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"water\",\r\n          \"elementType\": \"geometry\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#17263c\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"water\",\r\n          \"elementType\": \"labels.text.fill\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#515c6d\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"featureType\": \"water\",\r\n          \"elementType\": \"labels.text.stroke\",\r\n          \"stylers\": [\r\n            {\r\n              \"color\": \"#17263c\"\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    });\r\n    this.directionsDisplay.setMap(this.map);\r\n    var directionsService = new google.maps.DirectionsService();\r\n    directionsDisplay.setMap(this.map);\r\n    var directionsDisplay = new google.maps.DirectionsRenderer();\r\n    this.displayDirection(directionsService, directionsDisplay);\r\n  }\r\n\r\n  endDrive(){\r\n    this.storage.get(\"username\").then(username => {\r\n      this.socketService.send(\"/server-receiver\", {\r\n        type: \"customer\",\r\n        messageType: \"FINISH_DRIVE\",\r\n        driver: username,\r\n        customer: this.message.customer\r\n      });\r\n    });\r\n    location.reload();\r\n  }\r\n\r\n  driverIsOnSpot() {\r\n    this.storage.get(\"username\").then(username => {\r\n      this.socketService.send(\"/server-receiver\", {\r\n        type: \"customer\",\r\n        messageType: \"ON_SPOT\",\r\n        driver: username,\r\n        customer: this.message.customer\r\n      });\r\n    });\r\n  }\r\n\r\n  displayDirection(directionsService, directionsDisplay) {\r\n    directionsService.route(\r\n      {\r\n        origin: new google.maps.LatLng(\r\n          this.currentLocation.coords.latitude,\r\n          this.currentLocation.coords.longitude\r\n        ),\r\n        destination: this.toAddress,\r\n        travelMode: \"DRIVING\"\r\n      },\r\n      (response, status) => {\r\n        if (status === \"OK\") {\r\n          directionsDisplay.setDirections(response);\r\n        }\r\n      }\r\n    );\r\n  }\r\n  ngOnInit() {}\r\n\r\n  async callSOS() {\r\n    this.currentLocation = await this.locationService.getUserPosition();\r\n    console.log(\"DSAD\");\r\n    this.storage.get(\"username\").then(username => {\r\n      this.storage.get(\"username\").then(phone => {\r\n        this.socketService.send(\"/server-receiver\", {\r\n          type: \"customer\",\r\n          messageType: \"SOS\",\r\n          driver: username,\r\n          phoneNumber: phone,\r\n          fromLat: this.currentLocation.coords.latitude,\r\n          fromLong: this.currentLocation.coords.longitude\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}
=======
{"version":3,"sources":["./src/app/pages/driver-homepage/driver-homepage.page.html","./src/app/pages/driver-homepage/driver-homepage-routing.module.ts","./src/app/pages/driver-homepage/driver-homepage.module.ts","./src/app/pages/driver-homepage/driver-homepage.page.scss","./src/app/pages/driver-homepage/driver-homepage.page.ts"],"names":[],"mappings":"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","file":"11-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <div class=\\\"header-box\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title>Mura Taxi</ion-title>\\n      <button class=\\\"sos\\\" *ngIf=\\\"isUserLoggedIn\\\" (click)=\\\"callSOS()\\\">SOS</button>\\n  </div>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"mapp\\\">\\n  <style>\\n    .map {\\n      height: 47% !important;\\n    }\\n  </style>\\n  \\n    <div #mapElement class=\\\"map\\\"></div> \\n    <div class=\\\"buttons\\\">\\n      <ion-button class=\\\"call-customer\\\" *ngIf=\\\"isDriveStarted\\\" href=\\\"tel:{{phoneNumber}}\\\">Nazovi</ion-button>\\n      <ion-button class=\\\"finish-drive\\\" *ngIf=\\\"isDriveStarted\\\" (click)=\\\"driverIsOnSpot()\\\" >Na adresi</ion-button>\\n      <ion-button class=\\\"end-drive\\\" *ngIf=\\\"isDriveStarted\\\" (click)=\\\"endDrive()\\\">Završi</ion-button>  \\n    </div>\\n      <div class=\\\"drive-request\\\" *ngIf=\\\"isDriveStarted\\\">\\n\\n        <div class=\\\"location-from\\\">\\n          <span class=\\\"text\\\">Polazište:</span>\\n          <span class=\\\"value\\\">{{fromAddress}}</span> \\n        </div>\\n\\n        <div class=\\\"location-from\\\">\\n          <span class=\\\"text\\\">Odredište:</span>\\n          <span class=\\\"value\\\">{{toAddress}}</span>\\n        </div>\\n      </div>\\n\\n\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DriverHomepagePage } from './driver-homepage.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DriverHomepagePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DriverHomepagePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DriverHomepagePageRoutingModule } from './driver-homepage-routing.module';\n\nimport { DriverHomepagePage } from './driver-homepage.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DriverHomepagePageRoutingModule\n  ],\n  declarations: [DriverHomepagePage]\n})\nexport class DriverHomepagePageModule {}\n","export default \".map {\\n  margin: 20px;\\n}\\n\\n.buttons {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  border-bottom: 1px solid #000;\\n  padding-bottom: 15px;\\n  margin: 20px;\\n}\\n\\n.buttons .call-customer {\\n  --background: #46e169;\\n  color: #393939;\\n  font-size: 13px;\\n  width: 100px;\\n}\\n\\n.buttons .finish-drive {\\n  --background: #393939;\\n  color: #46e169;\\n  font-size: 13px;\\n  width: 100px;\\n}\\n\\n.buttons .end-drive {\\n  --background: #9c9cac;\\n  color: #fff;\\n  font-size: 13px;\\n  width: 100px;\\n}\\n\\n.drive-request {\\n  padding: 0 20px;\\n}\\n\\n.drive-request .location-from {\\n  padding-bottom: 15px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n}\\n\\n.drive-request .location-from .text {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  margin-bottom: 10px;\\n  font-size: 13px;\\n}\\n\\n.drive-request .location-from .value {\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  border: 1px solid #000;\\n  box-shadow: 6px 6px 18px 0px rgba(0, 0, 0, 0.3);\\n  height: 40px;\\n  padding: 10px;\\n  font-size: 13px;\\n}\\n\\n.header-box {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  padding: 10px;\\n}\\n\\n.header-box ion-title {\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  --color: #000;\\n  text-transform: uppercase;\\n}\\n\\n.header-box ion-menu-button {\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  --color: #000;\\n  --background: #f4f0ec;\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n}\\n\\n.header-box .sos {\\n  background: #DC143C;\\n  float: right;\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n  padding: 0;\\n  margin: 0 20px 0 0;\\n  color: white;\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9maWxpcC52dWtvdmljL0RldmVsb3BtZW50L2NoZWNrZml0LW1vYmlsZS9tb2JpbGVfYXBwL3NyYy9hcHAvcGFnZXMvZHJpdmVyLWhvbWVwYWdlL2RyaXZlci1ob21lcGFnZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2RyaXZlci1ob21lcGFnZS9kcml2ZXItaG9tZXBhZ2UucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQ0NKOztBRENBO0VBQ0ksb0JBQUE7RUFBQSxhQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLDZCQUFBO0VBQ0Esb0JBQUE7RUFDQSxZQUFBO0FDRUo7O0FEQUk7RUFDSSxxQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtBQ0VSOztBREFJO0VBQ0kscUJBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7QUNFUjs7QURBSTtFQUNJLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0FDRVI7O0FERUE7RUFDSSxlQUFBO0FDQ0o7O0FEQ0k7RUFDSSxvQkFBQTtFQUNBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDRCQUFBO0VBQUEsNkJBQUE7VUFBQSxzQkFBQTtBQ0NSOztBRENRO0VBQ0ksaUJBQUE7RUFDQSx5QkFBQTtFQUNBLDZDQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FDQ1o7O0FEQ1E7RUFDSSw2Q0FBQTtFQUNBLHNCQUFBO0VBQ0EsK0NBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7QUNDWjs7QURJQTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFDQSxhQUFBO0FDREo7O0FER0k7RUFDSSw2Q0FBQTtFQUNBLGFBQUE7RUFDQSx5QkFBQTtBQ0RSOztBREdJO0VBQ0ksNkNBQUE7RUFDQSxhQUFBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FDRFI7O0FER0k7RUFDSSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FDRFIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9kcml2ZXItaG9tZXBhZ2UvZHJpdmVyLWhvbWVwYWdlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXAge1xuICAgIG1hcmdpbjogMjBweDtcbn1cbi5idXR0b25zIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDA7XG4gICAgcGFkZGluZy1ib3R0b206IDE1cHg7XG4gICAgbWFyZ2luOiAyMHB4O1xuXG4gICAgLmNhbGwtY3VzdG9tZXIge1xuICAgICAgICAtLWJhY2tncm91bmQ6ICM0NmUxNjk7XG4gICAgICAgIGNvbG9yOiAjMzkzOTM5O1xuICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgIHdpZHRoOiAxMDBweDtcbiAgICB9XG4gICAgLmZpbmlzaC1kcml2ZSB7XG4gICAgICAgIC0tYmFja2dyb3VuZDogIzM5MzkzOTtcbiAgICAgICAgY29sb3I6ICM0NmUxNjk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgd2lkdGg6IDEwMHB4O1xuICAgIH1cbiAgICAuZW5kLWRyaXZlIHtcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiAjOWM5Y2FjO1xuICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICB3aWR0aDogMTAwcHg7XG4gICAgfVxufVxuXG4uZHJpdmUtcmVxdWVzdCB7XG4gICAgcGFkZGluZzogMCAyMHB4O1xuICAgIFxuICAgIC5sb2NhdGlvbi1mcm9tIHtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDE1cHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cbiAgICAgICAgLnRleHQge1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDBlbSAwZW0gMC4zZW0gcmdiYSgwLDAsMCwwLjQpO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgfVxuICAgICAgICAudmFsdWUge1xuICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDBlbSAwZW0gMC4zZW0gcmdiYSgwLDAsMCwwLjQpO1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzAwMDtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDZweCA2cHggMThweCAwcHggcmdiYSgwLDAsMCwwLjMpO1xuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLmhlYWRlci1ib3gge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiAxMHB4O1xuXG4gICAgaW9uLXRpdGxlIHtcbiAgICAgICAgdGV4dC1zaGFkb3c6IDBlbSAwZW0gMC4zZW0gcmdiYSgwLDAsMCwwLjQpO1xuICAgICAgICAtLWNvbG9yOiAjMDAwO1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgIH1cbiAgICBpb24tbWVudS1idXR0b24ge1xuICAgICAgICB0ZXh0LXNoYWRvdzogMGVtIDBlbSAwLjNlbSByZ2JhKDAsMCwwLDAuNCk7XG4gICAgICAgIC0tY29sb3I6ICMwMDA7XG4gICAgICAgIC0tYmFja2dyb3VuZDogI2Y0ZjBlYztcbiAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICAgIGhlaWdodDogNTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIH1cbiAgICAuc29zIHtcbiAgICAgICAgYmFja2dyb3VuZDogI0RDMTQzQztcbiAgICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgICB3aWR0aDogNTBweDtcbiAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIG1hcmdpbjogMCAyMHB4IDAgMDtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG59XG4iLCIubWFwIHtcbiAgbWFyZ2luOiAyMHB4O1xufVxuXG4uYnV0dG9ucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMDAwO1xuICBwYWRkaW5nLWJvdHRvbTogMTVweDtcbiAgbWFyZ2luOiAyMHB4O1xufVxuLmJ1dHRvbnMgLmNhbGwtY3VzdG9tZXIge1xuICAtLWJhY2tncm91bmQ6ICM0NmUxNjk7XG4gIGNvbG9yOiAjMzkzOTM5O1xuICBmb250LXNpemU6IDEzcHg7XG4gIHdpZHRoOiAxMDBweDtcbn1cbi5idXR0b25zIC5maW5pc2gtZHJpdmUge1xuICAtLWJhY2tncm91bmQ6ICMzOTM5Mzk7XG4gIGNvbG9yOiAjNDZlMTY5O1xuICBmb250LXNpemU6IDEzcHg7XG4gIHdpZHRoOiAxMDBweDtcbn1cbi5idXR0b25zIC5lbmQtZHJpdmUge1xuICAtLWJhY2tncm91bmQ6ICM5YzljYWM7XG4gIGNvbG9yOiAjZmZmO1xuICBmb250LXNpemU6IDEzcHg7XG4gIHdpZHRoOiAxMDBweDtcbn1cblxuLmRyaXZlLXJlcXVlc3Qge1xuICBwYWRkaW5nOiAwIDIwcHg7XG59XG4uZHJpdmUtcmVxdWVzdCAubG9jYXRpb24tZnJvbSB7XG4gIHBhZGRpbmctYm90dG9tOiAxNXB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuLmRyaXZlLXJlcXVlc3QgLmxvY2F0aW9uLWZyb20gLnRleHQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgdGV4dC1zaGFkb3c6IDBlbSAwZW0gMC4zZW0gcmdiYSgwLCAwLCAwLCAwLjQpO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBmb250LXNpemU6IDEzcHg7XG59XG4uZHJpdmUtcmVxdWVzdCAubG9jYXRpb24tZnJvbSAudmFsdWUge1xuICB0ZXh0LXNoYWRvdzogMGVtIDBlbSAwLjNlbSByZ2JhKDAsIDAsIDAsIDAuNCk7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XG4gIGJveC1zaGFkb3c6IDZweCA2cHggMThweCAwcHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICBoZWlnaHQ6IDQwcHg7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMTNweDtcbn1cblxuLmhlYWRlci1ib3gge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwYWRkaW5nOiAxMHB4O1xufVxuLmhlYWRlci1ib3ggaW9uLXRpdGxlIHtcbiAgdGV4dC1zaGFkb3c6IDBlbSAwZW0gMC4zZW0gcmdiYSgwLCAwLCAwLCAwLjQpO1xuICAtLWNvbG9yOiAjMDAwO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuLmhlYWRlci1ib3ggaW9uLW1lbnUtYnV0dG9uIHtcbiAgdGV4dC1zaGFkb3c6IDBlbSAwZW0gMC4zZW0gcmdiYSgwLCAwLCAwLCAwLjQpO1xuICAtLWNvbG9yOiAjMDAwO1xuICAtLWJhY2tncm91bmQ6ICNmNGYwZWM7XG4gIHdpZHRoOiA1MHB4O1xuICBoZWlnaHQ6IDUwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbn1cbi5oZWFkZXItYm94IC5zb3Mge1xuICBiYWNrZ3JvdW5kOiAjREMxNDNDO1xuICBmbG9hdDogcmlnaHQ7XG4gIHdpZHRoOiA1MHB4O1xuICBoZWlnaHQ6IDUwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgcGFkZGluZzogMDtcbiAgbWFyZ2luOiAwIDIwcHggMCAwO1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufSJdfQ== */\"","import {\n  Component,\n  OnInit,\n  AfterContentInit,\n  ViewChild,\n  ElementRef\n} from \"@angular/core\";\nimport { ModalController } from \"@ionic/angular\";\nimport { StreetPickerPage } from \"../popups/street-picker/street-picker.page\";\nimport { Router } from \"@angular/router\";\nimport { LocationService } from \"../../services/location.service\";\nimport { NativeGeocoderResult } from \"@ionic-native/native-geocoder/ngx\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { SocketService } from \"../../services/socket.service\";\nimport { Storage } from \"@ionic/storage\";\n\ndeclare var google;\n@Component({\n  selector: \"app-driver-homepage\",\n  templateUrl: \"./driver-homepage.page.html\",\n  styleUrls: [\"./driver-homepage.page.scss\"]\n})\nexport class DriverHomepagePage implements OnInit {\n  map;\n  toAddress: String;\n  currentLocation: any;\n  fromAddress: String;\n  toddress: String;\n  isDriveStarted: boolean;\n  message: any;\n  phoneNumber: String;\n  isUserLoggedIn: boolean = false;\n\n  @ViewChild(\"mapElement\", { static: true }) mapElement: ElementRef;\n  directionsService = new google.maps.DirectionsService();\n  directionsDisplay = new google.maps.DirectionsRenderer();\n\n  constructor(\n    private locationService: LocationService,\n    private route: ActivatedRoute,\n    private socketService: SocketService,\n    private storage: Storage\n  ) {\n    this.storage.get(\"username\").then(val => {\n      if (val != null) {\n        this.isUserLoggedIn = true;\n      }\n    });\n    this.initializeMap();\n\n    const firstParam: string = this.route.snapshot.queryParamMap.get(\"data\");\n    if (firstParam != null) {\n      let message = JSON.parse(firstParam); \n      this.message = message;\n      this.phoneNumber = message.phoneNumber;\n      const driveIsStarted: string = this.route.snapshot.queryParamMap.get(\n        \"driveIsStarted\"\n      );\n\n      if (driveIsStarted == \"true\") {\n        //TODO makni ovo na kraju\n        this.isDriveStarted = true;\n      }\n\n      this.directionsDisplay.setMap(this.map);\n      //this.calculateAndDisplayRoute()\n      this.populateAddress(this.message);\n    }\n  }\n  ngAfterContentInit() {}\n\n  calculateAndDisplayRoute() {\n    const that = this;\n    this.directionsService.route(\n      {\n        origin: this.fromAddress,\n        destination: this.toAddress,\n        travelMode: \"DRIVING\"\n      },\n      (response, status) => {\n        if (status === \"OK\") {\n          that.directionsDisplay.setDirections(response);\n        } else {\n          window.alert(\"Directions request failed due to \" + status);\n        }\n      }\n    );\n  }\n\n  addYourLocationButton(map, marker) \n  {\n      var controlDiv = document.createElement('div');\n  \n      var firstChild = document.createElement('button');\n      firstChild.style.backgroundColor = '#fff';\n      firstChild.style.border = 'none';\n      firstChild.style.outline = 'none';\n      firstChild.style.width = '28px';\n      firstChild.style.height = '28px';\n      firstChild.style.borderRadius = '2px';\n      firstChild.style.boxShadow = '0 1px 4px rgba(0,0,0,0.3)';\n      firstChild.style.cursor = 'pointer';\n      firstChild.style[\"marginLEFT\"] = '10px';\n      firstChild.style.padding = '0';\n      firstChild.title = 'Your Location';\n      controlDiv.appendChild(firstChild);\n  \n      var secondChild = document.createElement('div');\n      secondChild.style.margin = '5px';\n      secondChild.style.width = '18px';\n      secondChild.style.height = '18px';\n      secondChild.style.backgroundImage = 'url(https://maps.gstatic.com/tactile/mylocation/mylocation-sprite-2x.png)';\n      secondChild.style.backgroundSize = '180px 18px';\n      secondChild.style.backgroundPosition = '0 0';\n      secondChild.style.backgroundRepeat = 'no-repeat';\n      firstChild.appendChild(secondChild);\n  \n      google.maps.event.addListener(map, 'center_changed', function () {\n          secondChild.style['background-position'] = '0 0';\n      });\n  \n      firstChild.addEventListener('click', function () {\n          var imgX = 0,\n              animationInterval = setInterval(function () {\n                  imgX = -imgX - 18 ;\n                  secondChild.style['background-position'] = imgX+'px 0';\n              }, 500);\n  \n          if(navigator.geolocation) {\n              navigator.geolocation.getCurrentPosition(function(position) {\n                  var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n                  map.setCenter(latlng);\n                  clearInterval(animationInterval);\n                  secondChild.style['background-position'] = '-144px 0';\n              });\n          } else {\n              clearInterval(animationInterval);\n              secondChild.style['background-position'] = '0 0';\n          }\n      });\n  \n      controlDiv[\"index\"] = 1;\n      map.controls[google.maps.ControlPosition.LEFT_BOTTOM].push(controlDiv);\n  }\n  \n\n\n\n\n  async populateAddress(message) {\n    // alert(JSON.stringify(message))\n    var fromAddress = await this.locationService.getReverseGeocode(\n      message.fromLat,\n      message.fromLong\n    );\n    this.fromAddress =\n      fromAddress[0].thoroughfare +\n      \",\" +\n      fromAddress[0].subThoroughfare +\n      \",\" +\n      fromAddress[0].locality;\n\n    var toAddress = await this.locationService.getReverseGeocode(\n      message.toLat,\n      message.toLong\n    );\n    this.toAddress =\n      toAddress[0].thoroughfare +\n      \",\" +\n      toAddress[0].subThoroughfare +\n      \",\" +\n      toAddress[0].locality;\n    this.calculateAndDisplayRoute();\n  }\n\n  async initializeMap() {\n    this.currentLocation = await this.locationService.getUserPosition();\n    var directionsDisplay = new google.maps.DirectionsRenderer();\n    this.map = new google.maps.Map(this.mapElement.nativeElement, {\n      center: {\n        lat: this.currentLocation.coords.latitude,\n        lng: this.currentLocation.coords.longitude\n      },\n      zoom: 16,\n      styles:[\n        {\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#242f3e\"\n            }\n          ]\n        },\n        {\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#746855\"\n            }\n          ]\n        },\n        {\n          \"elementType\": \"labels.text.stroke\",\n          \"stylers\": [\n            {\n              \"color\": \"#242f3e\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"administrative.locality\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#d59563\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#d59563\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi.park\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#263c3f\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"poi.park\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#6b9a76\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#38414e\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road\",\n          \"elementType\": \"geometry.stroke\",\n          \"stylers\": [\n            {\n              \"color\": \"#212a37\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#9ca5b3\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.highway\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#746855\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.highway\",\n          \"elementType\": \"geometry.stroke\",\n          \"stylers\": [\n            {\n              \"color\": \"#1f2835\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"road.highway\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#f3d19c\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"transit\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#2f3948\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"transit.station\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#d59563\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"water\",\n          \"elementType\": \"geometry\",\n          \"stylers\": [\n            {\n              \"color\": \"#17263c\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"water\",\n          \"elementType\": \"labels.text.fill\",\n          \"stylers\": [\n            {\n              \"color\": \"#515c6d\"\n            }\n          ]\n        },\n        {\n          \"featureType\": \"water\",\n          \"elementType\": \"labels.text.stroke\",\n          \"stylers\": [\n            {\n              \"color\": \"#17263c\"\n            }\n          ]\n        }\n      ]\n    });\n    var myMarker = new google.maps.Marker({\n      map: this.map,\n      animation: google.maps.Animation.DROP,\n      position: new google.maps.LatLng(\n        this.currentLocation.coords.latitude,\n        this.currentLocation.coords.longitude\n      )\n    });\n    this.addYourLocationButton(this.map, myMarker);\n\n    this.directionsDisplay.setMap(this.map);\n    var directionsService = new google.maps.DirectionsService();\n    directionsDisplay.setMap(this.map);\n    var directionsDisplay = new google.maps.DirectionsRenderer();\n    this.displayDirection(directionsService, directionsDisplay);\n  }\n\n  endDrive(){\n    this.storage.get(\"username\").then(username => {\n      this.socketService.send(\"/server-receiver\", {\n        type: \"customer\",\n        messageType: \"FINISH_DRIVE\",\n        driver: username,\n        customer: this.message.customer\n      });\n    });\n    location.reload();\n  }\n\n  driverIsOnSpot() { \n    this.storage.get(\"username\").then(username => {\n      this.socketService.send(\"/server-receiver\", {\n        type: \"customer\",\n        messageType: \"ON_SPOT\",\n        driver: username,\n        customer: this.message.customer\n      });\n    });\n  }\n\n  displayDirection(directionsService, directionsDisplay) {\n    directionsService.route(\n      {\n        origin: new google.maps.LatLng(\n          this.currentLocation.coords.latitude,\n          this.currentLocation.coords.longitude\n        ),\n        destination: this.toAddress,\n        travelMode: \"DRIVING\"\n      },\n      (response, status) => {\n        if (status === \"OK\") {\n          directionsDisplay.setDirections(response);\n        }\n      }\n    );\n  }\n  ngOnInit() {}\n\n  async callSOS() {\n    this.currentLocation = await this.locationService.getUserPosition();\n    console.log(\"DSAD\");\n    this.storage.get(\"username\").then(username => {\n      this.storage.get(\"username\").then(phone => {\n        this.socketService.send(\"/server-receiver\", {\n          type: \"customer\",\n          messageType: \"SOS\",\n          driver: username,\n          phoneNumber: phone,\n          fromLat: this.currentLocation.coords.latitude,\n          fromLong: this.currentLocation.coords.longitude\n        });\n      });\n    });\n  }\n}\n"],"sourceRoot":"webpack:///"}
>>>>>>> 1ab1e2f28d0930b6ca3ece20942eed6bb499f47c
