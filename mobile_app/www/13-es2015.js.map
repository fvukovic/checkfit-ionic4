{"version":3,"sources":["./src/app/pages/login/login.page.html","./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.ts"],"names":[],"mappings":"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","file":"13-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <div class=\\\"header-box\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title>Prijava vozača</ion-title>\\n      <button class=\\\"sos\\\" *ngIf=\\\"isUserLoggedIn\\\" (click)=\\\"callSOS()\\\">SOS</button>\\n      <img src=\\\"../../../assets/img/taxiLogo.png\\\">\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n \\n<ion-content padding class=\\\"animated fadeIn login auth-page\\\">\\n  <div class=\\\"login-content\\\">\\n\\n    <!-- Logo -->\\n    <div padding-horizontal text-center class=\\\"animated fadeInDown\\\">\\n      <div class=\\\"logo\\\"></div>\\n      <h2 ion-text class=\\\"title\\\">\\n        <strong>Upišite tražene podatke</strong> \\n      </h2>\\n      <img src=\\\"../../../assets/img/login.png\\\" class=\\\"login-img\\\">\\n    </div>\\n\\n    <!-- Login form -->\\n    <form class=\\\"list-form\\\">\\n\\n      <div class=\\\"box-element\\\">\\n          <span class=\\\"text\\\">Email:</span>\\n          <span class=\\\"value\\\">\\n            <input [(ngModel)]=\\\"email\\\" name=\\\"email\\\" type=\\\"email\\\" class=\\\"destination\\\"/>\\n          </span>\\n      </div>\\n\\n      <div class=\\\"box-element\\\">\\n        <span class=\\\"text\\\">Lozinka:</span>\\n        <span class=\\\"value\\\">\\n          <input [(ngModel)]=\\\"password\\\" type=\\\"password\\\" name=\\\"password\\\" class=\\\"destination\\\"/>\\n      </span>\\n    </div>\\n\\n    </form>\\n\\n    <div>\\n      <div class=\\\"box-element\\\">\\n        <button class=\\\"login-btn\\\" tappable (click)=\\\"login()\\\">\\n          Prijavi se  \\n        </button>\\n      </div>\\n    </div>\\n   </div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\nimport {TranslateModule} from '@ngx-translate/core';\nimport { IonicStorageModule } from '@ionic/storage';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    LoginPageRoutingModule\n    ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \".header-box {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  padding: 10px; }\\n\\nimg {\\n  max-width: 50px; }\\n\\nion-title {\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  --color: #000;\\n  text-transform: uppercase; }\\n\\nion-menu-button {\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  --color: #000;\\n  --background: #f4f0ec;\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%; }\\n\\n.title {\\n  margin: 20px 10px;\\n  font-size: 18px;\\n  text-transform: uppercase;\\n  border-bottom: 1px solid #000;\\n  padding-bottom: 10px;\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  text-align: center;\\n  font-weight: bold; }\\n\\n.box-element {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  margin: 10px 10px 5px 10px; }\\n\\n.box-element .text {\\n    font-weight: bold;\\n    text-transform: uppercase;\\n    font-size: 13px;\\n    margin-bottom: 5px;\\n    text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4); }\\n\\n.box-element .value {\\n    border: 1px solid #393939;\\n    width: 100%;\\n    background: white;\\n    box-shadow: 6px 6px 18px 0px rgba(0, 0, 0, 0.3); }\\n\\n.box-element .destination {\\n    margin: 0;\\n    padding: 12px;\\n    font-size: 12px;\\n    width: 100%; }\\n\\n.login-btn {\\n  width: 100%;\\n  background: #393939;\\n  color: white;\\n  text-align: center;\\n  padding: 12px;\\n  text-transform: uppercase;\\n  margin-top: 10px; }\\n\\n.login-img {\\n  max-width: 50%;\\n  opacity: 0.8; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9maWxpcC52dWtvdmljL0RldmVsb3BtZW50L2NoZWNrZml0LW1vYmlsZS9tb2JpbGVfYXBwL3NyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksb0JBQWE7RUFBYixhQUFhO0VBQ2IseUJBQW1CO1VBQW5CLG1CQUFtQjtFQUNuQixhQUFhLEVBQUE7O0FBRWpCO0VBQ0ksZUFBZSxFQUFBOztBQUVuQjtFQUNJLDZDQUEwQztFQUMxQyxhQUFRO0VBQ1IseUJBQXlCLEVBQUE7O0FBRTdCO0VBQ0ksNkNBQTBDO0VBQzFDLGFBQVE7RUFDUixxQkFBYTtFQUNiLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCLEVBQUE7O0FBRXRCO0VBQ0ksaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZix5QkFBeUI7RUFDekIsNkJBQTZCO0VBQzdCLG9CQUFvQjtFQUNwQiw2Q0FBMEM7RUFDMUMsa0JBQWtCO0VBQ2xCLGlCQUFpQixFQUFBOztBQUdyQjtFQUNJLG9CQUFhO0VBQWIsYUFBYTtFQUNiLDRCQUFzQjtFQUF0Qiw2QkFBc0I7VUFBdEIsc0JBQXNCO0VBQ3RCLDBCQUEwQixFQUFBOztBQUg5QjtJQU1RLGlCQUFpQjtJQUNqQix5QkFBeUI7SUFDekIsZUFBZTtJQUNmLGtCQUFrQjtJQUNsQiw2Q0FBMEMsRUFBQTs7QUFWbEQ7SUFjUSx5QkFBeUI7SUFDekIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQiwrQ0FBNEMsRUFBQTs7QUFqQnBEO0lBcUJRLFNBQVM7SUFDVCxhQUFhO0lBQ2IsZUFBZTtJQUNmLFdBQVcsRUFBQTs7QUFLbkI7RUFDSSxXQUFXO0VBQ1gsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixnQkFBZ0IsRUFBQTs7QUFFcEI7RUFDSSxjQUFjO0VBQ2QsWUFBWSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhlYWRlci1ib3gge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiAxMHB4O1xufVxuaW1nIHtcbiAgICBtYXgtd2lkdGg6IDUwcHg7XG59XG5pb24tdGl0bGUge1xuICAgIHRleHQtc2hhZG93OiAwZW0gMGVtIDAuM2VtIHJnYmEoMCwwLDAsMC40KTtcbiAgICAtLWNvbG9yOiAjMDAwO1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59XG5pb24tbWVudS1idXR0b24ge1xuICAgIHRleHQtc2hhZG93OiAwZW0gMGVtIDAuM2VtIHJnYmEoMCwwLDAsMC40KTtcbiAgICAtLWNvbG9yOiAjMDAwO1xuICAgIC0tYmFja2dyb3VuZDogI2Y0ZjBlYztcbiAgICB3aWR0aDogNTBweDtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuLnRpdGxlIHtcbiAgICBtYXJnaW46IDIwcHggMTBweDtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMDtcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgICB0ZXh0LXNoYWRvdzogMGVtIDBlbSAwLjNlbSByZ2JhKDAsMCwwLDAuNCk7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYm94LWVsZW1lbnQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBtYXJnaW46IDEwcHggMTBweCA1cHggMTBweDtcblxuICAgIC50ZXh0IHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgICAgICB0ZXh0LXNoYWRvdzogMGVtIDBlbSAwLjNlbSByZ2JhKDAsMCwwLDAuNCk7XG4gICAgfVxuXG4gICAgLnZhbHVlIHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzM5MzkzOTtcbiAgICAgICAgd2lkdGg6IDEwMCU7ICAgICAgICBcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgIGJveC1zaGFkb3c6IDZweCA2cHggMThweCAwcHggcmdiYSgwLDAsMCwwLjMpO1xuICAgIH1cblxuICAgIC5kZXN0aW5hdGlvbiB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgcGFkZGluZzogMTJweDsgICAgICAgIFxuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cblxufVxuXG4ubG9naW4tYnRuIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kOiAjMzkzOTM5O1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMTJweDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG59XG4ubG9naW4taW1nIHtcbiAgICBtYXgtd2lkdGg6IDUwJTtcbiAgICBvcGFjaXR5OiAwLjg7XG59Il19 */\"","import { Component, OnInit, AfterContentInit, ViewChild } from \"@angular/core\";\nimport { ModalController } from \"@ionic/angular\";\nimport { StreetPickerPage } from \"../popups/street-picker/street-picker.page\";\nimport { Router } from \"@angular/router\";\nimport { Storage } from \"@ionic/storage\";\nimport { SocketService } from \"../../services/socket.service\";\nimport { AppComponent } from \"../../app.component\";\nimport { HttpClient, HttpErrorResponse } from \"@angular/common/http\";\nimport { catchError } from \"rxjs/operators\";\nimport { Observable, throwError } from \"rxjs\";\nimport { AlertController } from \"@ionic/angular\";\n\n@Component({\n  selector: \"app-login\",\n  templateUrl: \"./login.page.html\",\n  styleUrls: [\"./login.page.scss\"]\n})\nexport class LoginPage implements OnInit {\n  email: String;\n  password: String;\n\n  constructor(\n    private storage: Storage,\n    private http: HttpClient,\n    private router: Router,\n    private appCompoent: AppComponent,\n    private alertController: AlertController\n  ) {}\n\n  ngOnInit() {}\n\n  login() {\n    this.http\n      // .post(\"http://localhost:8080/api/authenticate\", {\n      .post(\"https://taxi-mura.herokuapp.com/api/authenticate\", {\n        username: this.email,\n        password: this.password\n      })\n      .pipe(\n        catchError((err: any) => {\n          this.presentAlert();\n          return Observable.throw(err || \"Internal Server error\");\n        })\n      )\n      .subscribe(data => {\n        this.storage.set(\"username\", this.email);\n        this.storage.set(\"id_token\", data[\"id_token\"]);\n        location.reload();\n      });\n\n    this.appCompoent.isUserLoggedIn = true;\n  }\n\n  async presentAlert() {\n    const alert = await this.alertController.create({\n      cssClass: \"myClass\",\n      header: \"Obavijest\",\n      message: '<div style=\"height: 100%\"> Login je bio neuspješan. </div>',\n      buttons: [\"OK\"]\n    });\n\n    await alert.present();\n  }\n}\n"],"sourceRoot":"webpack:///"}