{"version":3,"sources":["./src/app/pages/search-ride/search-ride.page.html","./src/app/pages/search-ride/search-ride-routing.module.ts","./src/app/pages/search-ride/search-ride.module.ts","./src/app/pages/search-ride/search-ride.page.scss","./src/app/pages/search-ride/search-ride.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,wmBAAyiB,KAAK,8C;;;;;;;;;;;;;;;;;;;ACAphB;AACc;AAEH;AAEpD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,gEAAc;KAC1B;CACF,CAAC;AAMF,IAAa,2BAA2B,GAAxC,MAAa,2BAA2B;CAAG;AAA9B,2BAA2B;IAJvC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,2BAA2B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBC;AACM;AACF;AAEA;AAE8B;AAEvB;AAepD,IAAa,oBAAoB,GAAjC,MAAa,oBAAoB;CAAG;AAAvB,oBAAoB;IAThC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,uFAA2B;SAC5B;QACD,YAAY,EAAE,CAAC,gEAAc,CAAC;KAC/B,CAAC;GACW,oBAAoB,CAAG;AAAH;;;;;;;;;;;;;ACvBjC;AAAe,6EAAc,uBAAuB,aAAa,cAAc,yDAAyD,yDAAyD,GAAG,6CAA6C,myB;;;;;;;;;;;;;;;;;;;;;ACAlK;AACjB;AACb;AACT;AACC;AAOzC,IAAa,cAAc,GAA3B,MAAa,cAAc;IASzB,YACS,aAA4B,EAC3B,KAAqB,EACtB,MAAc,EACb,OAAgB;QAGxB,qCAAqC;QACrC,gCAAgC;QAChC,6BAA6B;QAC7B,aAAa;QACb,MAAM;QACN,YAAY;QAXL,kBAAa,GAAb,aAAa,CAAe;QAC3B,UAAK,GAAL,KAAK,CAAgB;QACtB,WAAM,GAAN,MAAM,CAAQ;QACb,YAAO,GAAP,OAAO,CAAS;QAP1B,oBAAe,GAAY,KAAK,CAAC;QAiB/B,MAAM,CAAC,SAAS,CAAC,eAAe,EAAE,OAAO,CAAC,EAAE;YAC1C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC9B,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,SAAS,CAAC,gBAAgB,EAAE,OAAO,CAAC,EAAE;YAC3C,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACrB,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC;QACrB,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,OAAO,CAAC,EAAE;YAC5C,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IACD,YAAY;QACV,MAAM,UAAU,GAAW,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACzE,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;YACzC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,kBAAkB,EAAE;gBAC1C,IAAI,EAAE,UAAU;gBAChB,WAAW,EAAE,eAAe;gBAC5B,OAAO,EAAE,MAAM,CAAC,OAAO;gBACvB,QAAQ,EAAE,MAAM,CAAC,QAAQ;gBACzB,KAAK,EAAE,MAAM,CAAC,KAAK;gBACnB,MAAM,EAAE,MAAM,CAAC,MAAM;gBACrB,WAAW,EAAE,GAAG;aACjB,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kBAAkB,KAAU,CAAC;IAE7B,QAAQ,KAAI,CAAC;CACd;;YA/CyB,sEAAa;YACpB,8DAAc;YACd,qDAAM;YACJ,sDAAO;;AAbf,cAAc;IAL1B,+DAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;QAC3B,iOAAsC;;KAEvC,CAAC;2EAWwB,sEAAa;QACpB,8DAAc;QACd,qDAAM;QACJ,sDAAO;GAbf,cAAc,CAyD1B;AAzD0B","file":"13-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>search-ride</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=container4>\\n    <div *ngIf=\\\"!isDriveAccepted\\\" >\\n      \\n      <p>Tražim slobodnog vozača...</p>\\n      <ion-spinner style=\\\"width:150px\\\" color=\\\"tertiary\\\" class=\\\"ion-color ion-color-tertiary ios spinner-lines hydrated\\\"\\n        role=\\\"progressbar\\\"></ion-spinner>\\n    </div>\\n    <div *ngIf=\\\"isDriveAccepted\\\" >\\n        <h2>Vaše vozilo stiže!!</h2>\\n\\n        <p>Vaše vozilo je udaljeno:</p> \\n        <p>{{kms}}</p> \\n      </div>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SearchRidePage } from './search-ride.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SearchRidePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SearchRidePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SearchRidePageRoutingModule } from './search-ride-routing.module';\n\nimport { SearchRidePage } from './search-ride.page';\nimport { SocketIoModule, SocketIoConfig } from 'ngx-socket-io';\n\n \n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SearchRidePageRoutingModule\n  ],\n  declarations: [SearchRidePage]\n})\nexport class SearchRidePageModule {}\n","export default \".container4 {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%) translateY(-50%);\\n          transform: translateX(-50%) translateY(-50%);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9maWxpcC52dWtvdmljL0RldmVsb3BtZW50L2NoZWNrZml0LW1vYmlsZS9tb2JpbGVfYXBwL3NyYy9hcHAvcGFnZXMvc2VhcmNoLXJpZGUvc2VhcmNoLXJpZGUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zZWFyY2gtcmlkZS9zZWFyY2gtcmlkZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0Esb0RBQUE7VUFBQSw0Q0FBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvc2VhcmNoLXJpZGUvc2VhcmNoLXJpZGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lcjQge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7XG59IiwiLmNvbnRhaW5lcjQge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNTAlO1xuICBsZWZ0OiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpO1xufSJdfQ== */\"","import { Component, OnInit, AfterContentInit, ViewChild } from \"@angular/core\";\nimport { SocketService } from \"../../services/socket.service\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { Events } from \"@ionic/angular\";\nimport { Storage } from \"@ionic/storage\";\n\n@Component({\n  selector: \"app-search-ride\",\n  templateUrl: \"./search-ride.page.html\",\n  styleUrls: [\"./search-ride.page.scss\"]\n})\nexport class SearchRidePage implements OnInit, AfterContentInit {\n  map: any;\n  lat: String;\n  long: String;\n  lat2: String;\n  long2: String;\n  isDriveAccepted: boolean = false;\n  kms: String;\n\n  constructor(\n    public socketService: SocketService,\n    private route: ActivatedRoute,\n    public events: Events,\n    private storage: Storage\n  ) {\n    \n    // var handle = setInterval(data => {\n    //   if (this.isDriveAccepted) {\n    //     clearInterval(handle);\n    //   } else {\n    //   }\n    // }, 5000);\n\n    events.subscribe(\"driveAccepted\", message => {\n      this.isDriveAccepted = true;\n    });\n\n    events.subscribe(\"informCustomer\", message => {\n      console.log(message);\n      this.kms = message;\n    });\n\n    events.subscribe(\"driveIsFinished\", message => {\n      this.isDriveAccepted = false;\n      this.kms = message;\n    });\n    this.requestDrive();\n  }\n  requestDrive() {\n    const firstParam: string = this.route.snapshot.queryParamMap.get(\"data\");\n    let params = JSON.parse(firstParam);\n    this.storage.get(\"phoneNumber\").then(val => {\n      this.socketService.send(\"/server-receiver\", {\n        type: \"customer\",\n        messageType: \"DRIVE_REQUEST\",\n        fromLat: params.fromLat,\n        fromLong: params.fromLong,\n        toLat: params.toLat,\n        toLong: params.toLong,\n        phoneNumber: val\n      });\n    });\n  }\n\n  ngAfterContentInit(): void {}\n\n  ngOnInit() {}\n}\n"],"sourceRoot":"webpack:///"}