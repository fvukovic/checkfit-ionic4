{"version":3,"sources":["./src/app/pages/my-rides/my-rides.page.html","./src/app/pages/my-rides/my-rides-routing.module.ts","./src/app/pages/my-rides/my-rides.module.ts","./src/app/pages/my-rides/my-rides.page.scss","./src/app/pages/my-rides/my-rides.page.ts"],"names":[],"mappings":"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","file":"12-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Moje vožnje</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n<div *ngFor=\\\"let item of invoiceList\\\" class=\\\"my-rides\\\">\\n  <div class=\\\"details-ride\\\">\\n    <span class=\\\"text\\\">Polazište:</span>\\n    <span class=\\\"value\\\">{{item.fromAddress}}</span>\\n  </div>\\n\\n  <div class=\\\"details-ride\\\">\\n    <span class=\\\"text\\\">Odredište:</span>\\n    <span class=\\\"value\\\">{{item.toAddress}} </span>\\n  </div>\\n\\n  <div class=\\\"details-ride\\\">\\n    <span class=\\\"text\\\">Udaljenost:</span>\\n    <span class=\\\"value\\\">{{item.km}} km </span>\\n  </div>\\n\\n  <div class=\\\"details-ride\\\">\\n      <span class=\\\"text\\\">Osoba:</span>\\n      <span class=\\\"value\\\">{{item.persons}} </span>\\n    </div>\\n</div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyRidesPage } from './my-rides.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyRidesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyRidesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyRidesPageRoutingModule } from './my-rides-routing.module';\n\nimport { MyRidesPage } from './my-rides.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MyRidesPageRoutingModule\n  ],\n  declarations: [MyRidesPage]\n})\nexport class MyRidesPageModule {}\n","export default \".my-rides {\\n  margin: 20px;\\n  border-bottom: 1px solid #000;\\n  border-top: 1px solid #000;\\n  padding: 15px 0 5px 0;\\n}\\n.my-rides .details-ride {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  margin-bottom: 10px;\\n}\\n.my-rides .details-ride .text {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9maWxpcC52dWtvdmljL0RldmVsb3BtZW50L2NoZWNrZml0LW1vYmlsZS9tb2JpbGVfYXBwL3NyYy9hcHAvcGFnZXMvbXktcmlkZXMvbXktcmlkZXMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9teS1yaWRlcy9teS1yaWRlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0VBQ0EsNkJBQUE7RUFDQSwwQkFBQTtFQUNBLHFCQUFBO0FDQ0o7QURFSTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFDQSx5QkFBQTtVQUFBLDhCQUFBO0VBQ0EsbUJBQUE7QUNBUjtBREdRO0VBQ0ksaUJBQUE7RUFDQSx5QkFBQTtBQ0RaIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbXktcmlkZXMvbXktcmlkZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm15LXJpZGVzIHtcbiAgICBtYXJnaW46IDIwcHg7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDA7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMwMDA7XG4gICAgcGFkZGluZzogMTVweCAwIDVweCAwO1xuICAgIFxuXG4gICAgLmRldGFpbHMtcmlkZSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgICAgXG5cbiAgICAgICAgLnRleHQge1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICB9XG4gICAgfVxufSIsIi5teS1yaWRlcyB7XG4gIG1hcmdpbjogMjBweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDA7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMDAwO1xuICBwYWRkaW5nOiAxNXB4IDAgNXB4IDA7XG59XG4ubXktcmlkZXMgLmRldGFpbHMtcmlkZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cbi5teS1yaWRlcyAuZGV0YWlscy1yaWRlIC50ZXh0IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59Il19 */\"","import { Component, OnInit } from \"@angular/core\";\nimport { LocationService } from \"../../services/location.service\";\nimport { SocketService } from \"../../services/socket.service\";\nimport { Storage } from \"@ionic/storage\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { catchError } from \"rxjs/operators\";\nimport { Observable } from 'rxjs'; \n\n@Component({\n  selector: \"app-my-rides\",\n  templateUrl: \"./my-rides.page.html\",\n  styleUrls: [\"./my-rides.page.scss\"]\n})\nexport class MyRidesPage implements OnInit {\n  isUserLoggedIn: boolean = false;\n  invoiceList:any[] = [];\n\n\n  constructor(\n    private locationService: LocationService,\n    private socketService: SocketService,\n    private storage: Storage,\n    private http: HttpClient\n  ) {\n    this.storage.get(\"username\").then(val => {\n      if (val != null) {\n        this.isUserLoggedIn = true;\n      }\n    });\n  }\n\n  ngOnInit() {\n     this.storage.get(\"id_token\").then(val => { \n      if (val != null) { \n \n    this.http\n    .post(\"https://taxi-mura.herokuapp.com/api/drivesByUsername\", { \n      username: \"admin\", \n    })\n    .pipe(\n      catchError((err: any) => {\n        alert(\"Login je bio neuspješan\");\n        return Observable.throw(err || 'Internal Server error');\n\n      })\n    )\n    .subscribe(data => {\n      \n      Object.entries(data).forEach(([key, value]) => {\n        // alert(\"JSON.stringify(value)\" + value.fromLat + \" - \"+  value.fromLong)\n       \n        this.locationService.getReverseGeocode(value.fromLat, value.fromLong).then(\n          from =>{\n            this.locationService.getReverseGeocode(value.toLat, value.toLong).then(\n              to =>{  \n                this.invoiceList.push({\"fromAddress\": \n                from[0].thoroughfare +\n                \",\" +\n                from[0].subThoroughfare +\n                \",\" +\n                from[0].locality,\"toAddress\":\n                to[0].thoroughfare +\n                \",\" +\n                to[0].subThoroughfare +\n                \",\" +\n                to[0].locality, \"persons\": value.persons, km:value.km })\n                console.log(JSON.stringify(this.invoiceList))\n              }\n            )\n           }\n        )\n      });\n    });\n      }\n    });\n  }\n\n  async getAddressFromGeolocation(latitude, longitude){\n    return ;\n  }\n\n  async callSOS() {\n    let currentLocation = await this.locationService.getUserPosition();\n    console.log(\"DSAD\");\n    console.log(currentLocation);\n    this.storage.get(\"username\").then(username => {\n      this.storage.get(\"username\").then(phone => {\n        this.socketService.send(\"/server-receiver\", {\n          type: \"customer\",\n          messageType: \"SOS\",\n          driver: username,\n          phoneNumber: phone,\n          fromLat: currentLocation[\"cords\"][\"latitude\"],\n          fromLong: currentLocation[\"cords\"][\"latitude\"]\n        });\n      });\n    });\n  }\n}\n"],"sourceRoot":"webpack:///"}