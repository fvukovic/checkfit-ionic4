{"version":3,"sources":["src/app/pages/my-rides/my-rides.page.html","src/app/pages/my-rides/my-rides-routing.module.ts","src/app/pages/my-rides/my-rides.module.ts","src/app/pages/my-rides/my-rides.page.scss","src/app/pages/my-rides/my-rides.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <div class=\\\"header-box\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title>Moje vožnje</ion-title>\\n      <img src=\\\"../../../assets/img/taxiLogo.png\\\">\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n<div *ngFor=\\\"let item of invoiceList\\\" class=\\\"my-rides\\\">\\n  <div class=\\\"details-ride\\\">\\n    <span class=\\\"text\\\">Polazište:</span>\\n    <span class=\\\"value\\\">{{item.fromAddress}}</span>\\n  </div>\\n\\n  <div class=\\\"details-ride\\\">\\n    <span class=\\\"text\\\">Odredište:</span>\\n    <span class=\\\"value\\\">{{item.toAddress}} </span>\\n  </div>\\n\\n  <div class=\\\"details-ride\\\">\\n    <span class=\\\"text\\\">Udaljenost:</span>\\n    <span class=\\\"value\\\">{{item.km}} km </span>\\n  </div>\\n\\n  <div class=\\\"details-ride\\\">\\n      <span class=\\\"text\\\">Osoba:</span>\\n      <span class=\\\"value\\\">{{item.persons}} </span>\\n  </div>\\n  <div class=\\\"details-ride\\\">\\n    <span class=\\\"text\\\">Datum:</span>\\n    <span class=\\\"value\\\">{{item.time}} </span>\\n</div>\\n</div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyRidesPage } from './my-rides.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyRidesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyRidesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyRidesPageRoutingModule } from './my-rides-routing.module';\n\nimport { MyRidesPage } from './my-rides.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MyRidesPageRoutingModule\n  ],\n  declarations: [MyRidesPage]\n})\nexport class MyRidesPageModule {}\n","export default \".my-rides {\\n  margin: 20px;\\n  border-bottom: 2px solid #000;\\n  padding: 15px 0 5px 0;\\n}\\n.my-rides .details-ride {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  margin-bottom: 10px;\\n}\\n.my-rides .details-ride .text {\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  font-size: 12px;\\n}\\n.my-rides .details-ride .value {\\n  text-align: right;\\n  font-size: 12px;\\n}\\n.header-box {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  padding: 10px;\\n}\\nimg {\\n  max-width: 50px;\\n}\\nion-title {\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  --color: #000;\\n  text-transform: uppercase;\\n  font-size: 20px;\\n}\\nion-menu-button {\\n  text-shadow: 0em 0em 0.3em rgba(0, 0, 0, 0.4);\\n  --color: #000;\\n  --background: #f4f0ec;\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9maWxpcC52dWtvdmljL0RldmVsb3BtZW50L2NoZWNrZml0LW1vYmlsZS9tb2JpbGVfYXBwL3NyYy9hcHAvcGFnZXMvbXktcmlkZXMvbXktcmlkZXMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9teS1yaWRlcy9teS1yaWRlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0VBQ0EsNkJBQUE7RUFDQSxxQkFBQTtBQ0NKO0FERUk7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0EseUJBQUE7VUFBQSw4QkFBQTtFQUNBLG1CQUFBO0FDQVI7QURHUTtFQUNJLGlCQUFBO0VBQ0EseUJBQUE7RUFDQSxlQUFBO0FDRFo7QURHUTtFQUNJLGlCQUFBO0VBQ0EsZUFBQTtBQ0RaO0FES0E7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0EsYUFBQTtBQ0ZKO0FESUE7RUFDSSxlQUFBO0FDREo7QURHQTtFQUNJLDZDQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0VBQ0EsZUFBQTtBQ0FKO0FERUE7RUFDSSw2Q0FBQTtFQUNBLGFBQUE7RUFDQSxxQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL215LXJpZGVzL215LXJpZGVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5teS1yaWRlcyB7XG4gICAgbWFyZ2luOiAyMHB4O1xuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjMDAwO1xuICAgIHBhZGRpbmc6IDE1cHggMCA1cHggMDtcbiAgICBcblxuICAgIC5kZXRhaWxzLXJpZGUge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICAgIFxuXG4gICAgICAgIC50ZXh0IHtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgfVxuICAgICAgICAudmFsdWUge1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIH1cbiAgICB9XG59XG4uaGVhZGVyLWJveCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBhZGRpbmc6IDEwcHg7XG59XG5pbWcge1xuICAgIG1heC13aWR0aDogNTBweDtcbn1cbmlvbi10aXRsZSB7XG4gICAgdGV4dC1zaGFkb3c6IDBlbSAwZW0gMC4zZW0gcmdiYSgwLDAsMCwwLjQpO1xuICAgIC0tY29sb3I6ICMwMDA7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBmb250LXNpemU6IDIwcHg7XG59XG5pb24tbWVudS1idXR0b24ge1xuICAgIHRleHQtc2hhZG93OiAwZW0gMGVtIDAuM2VtIHJnYmEoMCwwLDAsMC40KTtcbiAgICAtLWNvbG9yOiAjMDAwO1xuICAgIC0tYmFja2dyb3VuZDogI2Y0ZjBlYztcbiAgICB3aWR0aDogNTBweDtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xufSIsIi5teS1yaWRlcyB7XG4gIG1hcmdpbjogMjBweDtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICMwMDA7XG4gIHBhZGRpbmc6IDE1cHggMCA1cHggMDtcbn1cbi5teS1yaWRlcyAuZGV0YWlscy1yaWRlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuLm15LXJpZGVzIC5kZXRhaWxzLXJpZGUgLnRleHQge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC1zaXplOiAxMnB4O1xufVxuLm15LXJpZGVzIC5kZXRhaWxzLXJpZGUgLnZhbHVlIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuLmhlYWRlci1ib3gge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG5pbWcge1xuICBtYXgtd2lkdGg6IDUwcHg7XG59XG5cbmlvbi10aXRsZSB7XG4gIHRleHQtc2hhZG93OiAwZW0gMGVtIDAuM2VtIHJnYmEoMCwgMCwgMCwgMC40KTtcbiAgLS1jb2xvcjogIzAwMDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuXG5pb24tbWVudS1idXR0b24ge1xuICB0ZXh0LXNoYWRvdzogMGVtIDBlbSAwLjNlbSByZ2JhKDAsIDAsIDAsIDAuNCk7XG4gIC0tY29sb3I6ICMwMDA7XG4gIC0tYmFja2dyb3VuZDogI2Y0ZjBlYztcbiAgd2lkdGg6IDUwcHg7XG4gIGhlaWdodDogNTBweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufSJdfQ== */\"","import { Component, OnInit } from \"@angular/core\";\nimport { LocationService } from \"../../services/location.service\";\nimport { SocketService } from \"../../services/socket.service\";\nimport { Storage } from \"@ionic/storage\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { catchError } from \"rxjs/operators\";\nimport { Observable } from 'rxjs'; \n\n@Component({\n  selector: \"app-my-rides\",\n  templateUrl: \"./my-rides.page.html\",\n  styleUrls: [\"./my-rides.page.scss\"]\n})\nexport class MyRidesPage implements OnInit {\n  isUserLoggedIn: boolean = false;\n  invoiceList:any[] = [];\n\n\n  constructor(\n    private locationService: LocationService,\n    private socketService: SocketService,\n    private storage: Storage,\n    private http: HttpClient\n  ) {\n    this.storage.get(\"username\").then(val => {\n      if (val != null) {\n        this.isUserLoggedIn = true;\n      }\n    });\n  }\n\n  ngOnInit() {\n     this.storage.get(\"username\").then(val => { \n      if (val != null) { \n \n    this.http\n    .post(\"https://taxi-mura.herokuapp.com/api/drivesByUsername\", { \n      username: \"admin\", \n    })\n    .pipe(\n      catchError((err: any) => { \n        return Observable.throw(err || 'Internal Server error');\n\n      })\n    )\n    .subscribe(data => {\n      \n      Object.entries(data).forEach(([key, value]) => {\n        // alert(\"JSON.stringify(value)\" + value.fromLat + \" - \"+  value.fromLong)\n       \n        this.locationService.getReverseGeocode(value.fromLat, value.fromLong).then(\n          from =>{\n            this.locationService.getReverseGeocode(value.toLat, value.toLong).then(\n              to =>{  \n                this.invoiceList.push({\"fromAddress\": \n                from[0].thoroughfare +\n                \",\" +\n                from[0].subThoroughfare +\n                \",\" +\n                from[0].locality,\"toAddress\":\n                to[0].thoroughfare +\n                \",\" +\n                to[0].subThoroughfare +\n                \",\" +\n                to[0].locality, \"persons\": value.persons, km:value.km, time:value.time.replace(\"T\",\" \").replace(\"Z\", \"\") })\n                console.log(JSON.stringify(this.invoiceList))\n              }\n            )\n           }\n        )\n      });\n    });\n      }\n    });\n  }\n\n  async getAddressFromGeolocation(latitude, longitude){\n    return ;\n  }\n\n  async callSOS() {\n    let currentLocation = await this.locationService.getUserPosition();\n    console.log(\"DSAD\");\n    console.log(currentLocation);\n    this.storage.get(\"username\").then(username => {\n      this.storage.get(\"username\").then(phone => {\n        this.socketService.send(\"/server-receiver\", {\n          type: \"customer\",\n          messageType: \"SOS\",\n          driver: username,\n          phoneNumber: phone,\n          fromLat: currentLocation[\"cords\"][\"latitude\"],\n          fromLong: currentLocation[\"cords\"][\"latitude\"]\n        });\n      });\n    });\n  }\n}\n"],"sourceRoot":"webpack:///","file":"13-es5.js"}